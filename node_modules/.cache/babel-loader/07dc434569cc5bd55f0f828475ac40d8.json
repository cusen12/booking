{"ast":null,"code":"var _jsxFileName = \"D:\\\\booking\\\\src\\\\Component\\\\User\\\\User.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, ButtonGroup, Grid } from '@material-ui/core';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport './user.scss';\nimport { useDispatch } from 'react-redux';\nimport { logout } from '../Login/LoginSlice';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction User(props) {\n  _s();\n\n  const {\n    user\n  } = props;\n  const [active, setActive] = useState(false);\n  const [findUser, setFindUser] = useState();\n  const [edit, setEdit] = useState(false);\n  const taiKhoan = user.taiKhoan;\n  const dispatch = useDispatch();\n\n  const handleClickArrowUser = async () => {\n    setActive(!active);\n    await fetch(`https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/TimKiemNguoiDung?tuKhoa=${taiKhoan}`).then(response => response.json()).then(data => {\n      setFindUser(data[0]);\n    });\n  };\n\n  const accessTokens = user.accessToken;\n\n  const handleEditProfile = e => {\n    e.preventDefault();\n    const hoTen = e.target.hoTen.value;\n    const matKhau = e.target.matKhau.value;\n    const email = e.target.email.value;\n    const soDt = e.target.soDt.value;\n    const requestOptions = {\n      method: 'PUT',\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n        'Authorization': \"Bearer \" + accessTokens\n      },\n      body: JSON.stringify({\n        \"taiKhoan\": taiKhoan,\n        \"email\": email,\n        \"matKhau\": matKhau,\n        \"soDt\": soDt,\n        \"maNhom\": user.maNhom,\n        \"maLoaiNguoiDung\": user.maLoaiNguoiDung,\n        \"hoTen\": hoTen\n      })\n    };\n    fetch('https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung', requestOptions).then(res => {\n      if (res.ok) {\n        alert('Sửa thành công thành công !!!');\n        setActive(!active);\n        setEdit(!edit);\n      }\n\n      return res.json();\n    }).catch(error => console.log('Sửa thất bại', error));\n    setEdit(!edit);\n  };\n\n  const handleClickLogout = () => {\n    dispatch(logout());\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [user.taiKhoan !== undefined ? /*#__PURE__*/_jsxDEV(AccountCircleIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 46\n    }, this) : '', /*#__PURE__*/_jsxDEV(ArrowDropDownIcon, {\n      className: \"pointer\",\n      color: \"secondary\",\n      onClick: handleClickArrowUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      style: active ? {\n        display: 'block'\n      } : {\n        display: 'none'\n      },\n      className: \"user-info\",\n      item: true,\n      sm: 3,\n      md: 2,\n      container: true,\n      justify: \"space-between\",\n      direction: \"column\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        style: !edit ? {\n          display: 'block'\n        } : {\n          display: 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"H\\u1ECD t\\xEAn: \", findUser !== undefined ? findUser.hoTen : user.hoTen]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Mail: \", findUser !== undefined ? findUser.email : user.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Lo\\u1EA1i: \", findUser !== undefined ? findUser.maLoaiNguoiDung : user.maLoaiNguoiDung]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [\"Phone: \", findUser !== undefined ? findUser.soDt : user.soDT]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          size: \"small\",\n          color: \"secondary\",\n          variant: \"outlined\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setEdit(!edit),\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 64\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClickLogout,\n            children: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {\n              color: \"secondary\",\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        style: edit ? {\n          display: 'block'\n        } : {\n          display: 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEditProfile,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: [\"H\\u1ECD T\\xEAn\", /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"hoTen\",\n              type: \"text\",\n              defaultValue: findUser !== undefined ? findUser.hoTen : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: \"T\\xE0i kho\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: [\"M\\u1EADt kh\\u1EA9u\", /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"matKhau\",\n              type: \"text\",\n              defaultValue: findUser !== undefined ? findUser.matKhau : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"email\",\n              type: \"text\",\n              defaultValue: findUser !== undefined ? findUser.email : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\", /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"soDt\",\n              type: \"text\",\n              defaultValue: findUser !== undefined ? findUser.soDt : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {\n              color: \"secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 48\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(User, \"MR7jTLQ/TjVs2perbx6XfRHSmqU=\", false, function () {\n  return [useDispatch];\n});\n\n_c = User;\nexport default User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["D:/booking/src/Component/User/User.jsx"],"names":["React","useState","Button","ButtonGroup","Grid","ArrowDropDownIcon","AccountCircleIcon","useDispatch","logout","EditIcon","ExitToAppIcon","User","props","user","active","setActive","findUser","setFindUser","edit","setEdit","taiKhoan","dispatch","handleClickArrowUser","fetch","then","response","json","data","accessTokens","accessToken","handleEditProfile","e","preventDefault","hoTen","target","value","matKhau","email","soDt","requestOptions","method","headers","body","JSON","stringify","maNhom","maLoaiNguoiDung","res","ok","alert","catch","error","console","log","handleClickLogout","undefined","display","soDT"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'; \r\nimport { Button, ButtonGroup, Grid } from '@material-ui/core';  \r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport './user.scss';   \r\nimport { useDispatch } from 'react-redux'; \r\nimport { logout } from '../Login/LoginSlice';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n \r\nfunction User(props) { \r\n    const {user} = props \r\n    const [active, setActive] = useState(false); \r\n    const [findUser, setFindUser] = useState() \r\n    const [edit, setEdit] = useState(false);\r\n    const taiKhoan = user.taiKhoan; \r\n    const dispatch = useDispatch()\r\n    const handleClickArrowUser = async () =>{\r\n        setActive(!active) \r\n        await fetch(`https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/TimKiemNguoiDung?tuKhoa=${taiKhoan}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            setFindUser(data[0])  \r\n        });\r\n    }\r\n    const accessTokens = user.accessToken;\r\n    const handleEditProfile = (e) =>{\r\n        e.preventDefault()  \r\n        const hoTen = e.target.hoTen.value;\r\n        const matKhau = e.target.matKhau.value; \r\n        const email = e.target.email.value;  \r\n        const soDt = e.target.soDt.value;\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: {  \r\n                'Content-type': 'application/json; charset=UTF-8',\r\n                'Authorization': \"Bearer \" + accessTokens \r\n            }, \r\n            body: JSON.stringify(\r\n              {\r\n                \"taiKhoan\": taiKhoan,\r\n                \"email\": email,\r\n                \"matKhau\": matKhau,\r\n                \"soDt\": soDt,\r\n                \"maNhom\": user.maNhom,\r\n                \"maLoaiNguoiDung\": user.maLoaiNguoiDung,\r\n                \"hoTen\": hoTen\r\n              }\r\n            )\r\n        };\r\n        fetch('https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung', requestOptions)\r\n        .then(res =>{\r\n            if(res.ok){\r\n                alert('Sửa thành công thành công !!!');\r\n                setActive(!active) \r\n                setEdit(!edit)  \r\n            } \r\n            return res.json(); \r\n        })  \r\n        .catch((error) => console.log('Sửa thất bại', error))  \r\n        setEdit(!edit)\r\n          \r\n    }\r\n    const handleClickLogout = () =>{\r\n        dispatch(logout());\r\n    }   \r\n    return (\r\n        <> \r\n        \r\n            {(user.taiKhoan !== undefined) ? <AccountCircleIcon /> : ''}\r\n            <ArrowDropDownIcon className=\"pointer\" color=\"secondary\" onClick={handleClickArrowUser}/>\r\n           \r\n            <Grid style={ active ? {display: 'block'} : {display: 'none'} } className=\"user-info\" item sm={3} md={2} container\r\n                    justify=\"space-between\" \r\n                    direction=\"column\" \r\n            >     \r\n                <Grid style={!edit ? {display: 'block'} : {display: 'none'}} >\r\n                    <div>\r\n                        <h5>Họ tên: {findUser !== undefined ? findUser.hoTen : user.hoTen}</h5>\r\n                        <h5>Mail: {findUser !== undefined ? findUser.email : user.email}</h5>\r\n                        <h5>Loại: {findUser !== undefined ? findUser.maLoaiNguoiDung : user.maLoaiNguoiDung}</h5> \r\n                        <h5>Phone: {findUser !== undefined ? findUser.soDt : user.soDT}</h5>   \r\n                    </div> \r\n                    <br/>\r\n                    <ButtonGroup size=\"small\" color=\"secondary\" variant=\"outlined\">\r\n                        <Button onClick={()=> setEdit(!edit)} ><EditIcon color=\"secondary\" /></Button> \r\n                        <Button onClick={handleClickLogout} ><ExitToAppIcon color=\"secondary\" fontSize=\"small\"/></Button>     \r\n                    </ButtonGroup>  \r\n                </Grid>\r\n                <Grid style={edit ? {display: 'block'} : {display: 'none'}}> \r\n                    <form onSubmit={handleEditProfile} >\r\n                        <label htmlFor=\"\">\r\n                            Họ Tên\r\n                            <input id=\"hoTen\" type=\"text\" defaultValue={findUser !== undefined ? findUser.hoTen : \"\"}/>\r\n                        </label><br/>\r\n                        <label htmlFor=\"\">\r\n                            Tài khoản\r\n                        </label><br/>\r\n                        <label htmlFor=\"\">\r\n                            Mật khẩu \r\n                            <input id=\"matKhau\" type=\"text\" defaultValue={findUser !== undefined ? findUser.matKhau : \"\"}/>\r\n                        </label><br/>\r\n                        <label htmlFor=\"\">\r\n                            Email\r\n                            <input id=\"email\" type=\"text\" defaultValue={findUser !== undefined ? findUser.email : \"\"}/>\r\n                        </label><br/>\r\n                        <label htmlFor=\"\">\r\n                             Số điện thoại \r\n                             <input id=\"soDt\" type=\"text\" defaultValue={findUser !== undefined ? findUser.soDt : \"\"}/>  \r\n                        </label><br/> \r\n                        <Button type=\"submit\" ><EditIcon color=\"secondary\" /></Button>\r\n                    </form>\r\n                </Grid>    \r\n            </Grid>  \r\n        </>\r\n    );\r\n}\r\nexport default User;"]},"metadata":{},"sourceType":"module"}